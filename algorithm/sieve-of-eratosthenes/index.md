## 에라토스테네스의 체

에라토스테네스의 체는 고대 그리스의 수학자 에라토스테네스가 만들어 낸 소수(Prime Number)를 찾는 방법

- 에라토스테네스는 특정 정수 이하의 모든 소수를 찾기 위해서 소수를 찾는 것이 아니라 소수의 반대인 합성수(Composite Number)를 제거하는 창의적인 접근이다.

1. 에라토스테네스의 체 알고리즘에서는 정수 n이 주어졌을 때, 우선 2부터 n까지의 모든 수가 소수가 될 수 있다고 가정하고 나열한다

- 예를 들어, 26이 주어졌다면 다음과 같이 체에 숫자가 펼쳐질 것

```
{2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26}
```

- 이제부터 이 숫자들 중에서 합성수를 제거한다
- 맨 처음에는 가장 작은 소수인 2를 제외한, 2의 배수를 제거한다

```
{2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26}
- {4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26}
= {2, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25}
```

- 그 다음, 3를 제외한 3의 배수를 제거한다.

```
{2, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25}
- {6, 9, 12, 15, 18, 21, 24}
= {2, 3, 5, 7, 11, 13, 17, 19, 23, 25}
```

- 4의 배수는 이미 2의 배수를 털어낼 때 모두 털어냈으므로 굳이 다시 털어내봤자 아무 의미가 없을 것입니다. 따라서 5를 제외한 5의 배수를 제거한다.

```
  {2, 3, 5, 7, 11, 13, 17, 19, 23, 25}
- {10, 15, 20, 25}
= {2, 3, 5, 7, 11, 13, 17, 19, 23}
```

- 이제 26 이하의 소수만 남아있는 것을 볼 수 있다
- 6보다 큰 수에 대해서는 제거할 필요가 없는 이유는 26의 제곱근은 약 5.1이기 때문이다
- n의 제곱근보다 큰 정수 중에서 약수가 있다면, n의 제곱근보다 작은 정수 중에서 100% 그 약수와 짝이 되는 다른 약수가 있다

- 18의 제곱근은 약 4.2이고 약수는 1과 자신을 제외하면 다음과 같다

```
제곱근: 4.2
약수: {2, 3, 6, 9}
```

- 4.2보다 큰 9와 짝이 되는 약수 2는 4.2보다 작습니다.
- 4.2보다 큰 6과 짝이 되는 약수 3은 4.2보다 작습니다.

-> 이를 통해 우리는 2부터 n - 1이 아니라 n의 제곱근까지만 제거해줘도 충분하다는 것을 알 수 있다.

## 요약 설명

- 소수를 찾는 다른 개념의 방법이다

### 핵심 개념

- 주어지는 숫자까지의 전체 배열에서 점차 제거하는 식으로 소수를 찾아갈 수 있다.

## 언제 사용하면 좋은가?

- 정해진 범위 내에서 소수 목록이 필요한 경우
- 연속된 소수의 합으로 특정 숫자를 만들 수 있는지 확인하는 문제
- 가장 가까운 소수 찾기 문제
- 범위 내에서 특정 조건을 만족하는 소수를 찾는 문제

<br/>

## 어떻게 구현할까?

```js
function sieveOfEratosthenes(number) {
  const s = new Set([2]); // 2를 초기 소수로 추가

  // 3부터 시작해 모든 홀수만 추가
  for (let i = 3; i <= n; i += 2) {
    s.add(i);
  }

  // 3부터 sqrt(n)까지 반복
  for (let j = 3; j <= Math.sqrt(n); j += 2) {
    if (s.has(j)) {
      // j의 배수 제거
      for (let k = j * j; k <= n; k += j * 2) {
        s.delete(k);
      }
    }
  }

  return Array.from(s);
}
```

<br/>

## 추천 문제

[_유클리드 호제법 복습 문제\_숫자 나누기\_135807_](https://school.programmers.co.kr/learn/courses/30/lessons/135807)

[_프로그래머스\_소수 찾기\_42839_](https://school.programmers.co.kr/learn/courses/30/lessons/42839)
